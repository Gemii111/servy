# ูุธุงู ุงูุชููููุงุช ูุงููุฑุงุฌุนุงุช - Ratings & Reviews System ๐โญ

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุฅูุดุงุก ูุธุงู ูุงูู ููุชููููุงุช ูุงููุฑุงุฌุนุงุช ูุชูุญ ููุนููุงุก ุชูููู ุงููุทุงุนู ุจุนุฏ ุงุณุชูุงู ุงูุทูุจุงุชุ ูุนุฑุถ ุงููุฑุงุฌุนุงุช ูู ุตูุญุฉ ุชูุงุตูู ุงููุทุนู.

---

## ๐๏ธ ุงููููุงุช ุงููููุดุฃุฉ

### 1. **Models (ุงูููุงุฐุฌ)**

#### `lib/data/models/rating_model.dart`
- **RatingModel**: ูููุฐุฌ ุจูุงูุงุช ุงูุชูููู ูุญุชูู ุนูู:
  - ูุนูููุงุช ุงููุณุชุฎุฏู (id, name, image)
  - ูุนูููุงุช ุงููุทุนู ูุงูุทูุจ
  - ุงูุชูููู (1-5 ูุฌูู)
  - ุงูุชุนููู/ุงููุฑุงุฌุนุฉ ุงููุตูุฉ
  - ุงูุตูุฑ (ุงุฎุชูุงุฑู)
  - ุชุงุฑูุฎ ุงูุฅูุดุงุก ูุงูุชุญุฏูุซ

- **RestaurantRatingSummary**: ููุฎุต ุงูุชููููุงุช ูููุทุนู:
  - ูุชูุณุท ุงูุชูููู
  - ุฅุฌูุงูู ุนุฏุฏ ุงูุชููููุงุช
  - ุชูุฒูุน ุงูุชููููุงุช (5, 4, 3, 2, 1 ูุฌูู)
  - ูุงุฆูุฉ ุจุฃุญุฏุซ ุงููุฑุงุฌุนุงุช

---

### 2. **Repository (ูุณุชูุฏุน ุงูุจูุงูุงุช)**

#### `lib/data/repositories/rating_repository.dart`
ูููุฑ ูุงุฌูุฉ ููุชุนุงูู ูุน ุงูุจูุงูุงุช:
- `getRestaurantRatings()` - ุฌูุจ ุชููููุงุช ูุทุนู ูุนูู
- `getRatingById()` - ุฌูุจ ุชูููู ุจููุนุฑูู
- `submitRating()` - ุฅุฑุณุงู ุชูููู ุฌุฏูุฏ
- `updateRating()` - ุชุญุฏูุซ ุชูููู ููุฌูุฏ
- `deleteRating()` - ุญุฐู ุชูููู
- `getUserRatings()` - ุฌูุจ ุชููููุงุช ูุณุชุฎุฏู ูุนูู

---

### 3. **Providers (ุฅุฏุงุฑุฉ ุงูุญุงูุฉ)**

#### `lib/logic/providers/rating_providers.dart`
Riverpod Providers ูุฅุฏุงุฑุฉ ุญุงูุฉ ุงูุชููููุงุช:
- `ratingRepositoryProvider` - Provider ูููุณุชูุฏุน
- `restaurantRatingsProvider` - Provider ูุชููููุงุช ุงููุทุนู
- `restaurantRatingSummaryProvider` - Provider ูููุฎุต ุงูุชููููุงุช
- `ratingSubmissionProvider` - Provider ูุฅุฑุณุงู ุงูุชููููุงุช
- `ratingByIdProvider` - Provider ูุชูููู ูุนูู
- `userRatingsProvider` - Provider ูุชููููุงุช ุงููุณุชุฎุฏู

---

### 4. **UI Components (ููููุงุช ุงููุงุฌูุฉ)**

#### `lib/presentation/customer/widgets/ratings/star_rating_widget.dart`
ูููู ูุนุฑุถ ุงููุฌูู:
- **StarRatingWidget**: 
  - ุนุฑุถ ุชูุงุนูู ูููุฌูู (ูููู ุงูููุฑ ุนูููุง)
  - ุฏุนู ุงูุชูููู ุจูุตู ูุฌูุฉ
  - ูุงุจู ูููุฑุงุกุฉ ููุท (read-only)
  - ุญุฌู ูุงุจู ููุชุฎุตูุต

#### `lib/presentation/customer/widgets/ratings/review_card_widget.dart`
ุจุทุงูุฉ ุนุฑุถ ุงููุฑุงุฌุนุฉ:
- ุตูุฑุฉ ุงููุณุชุฎุฏู ูุงุณูู
- ุงููุฌูู ูุงูุชูููู
- ูุต ุงููุฑุงุฌุนุฉ
- ุงูุตูุฑ ุงููุฑููุฉ (ุฅู ูุฌุฏุช)
- ุชุงุฑูุฎ ุงููุฑุงุฌุนุฉ
- ุฃุฒุฑุงุฑ ูููุฏุฉ (Helpful) ูุจููุบ (Report) - ุงุฎุชูุงุฑู

---

### 5. **Screens (ุงูุดุงุดุงุช)**

#### `lib/presentation/customer/screens/review/review_order_screen.dart`
**ุดุงุดุฉ ุชูููู ุงูุทูุจ ุจุนุฏ ุงูุชุณููู:**
- ุนุฑุถ ูุนูููุงุช ุงููุทุนู
- ุงุฎุชูุงุฑ ุงูุชูููู ุจุงููุฌูู (1-5)
- ุญูู ูุชุงุจุฉ ุงููุฑุงุฌุนุฉ (ุงุฎุชูุงุฑู)
- ุฒุฑ ุฅุฑุณุงู ุงูุชูููู
- ุฑุณุงุฆู ูุฌุงุญ/ุฎุทุฃ

**ููููุฉ ุงููุตูู ุฅูููุง:**
- ูู ุตูุญุฉ ุชูุงุตูู ุงูุทูุจ (`OrderDetailsScreen`)
- ุฒุฑ "Rate Your Order" ูุธูุฑ ููุทูุจุงุช ุงูููุณููุฉ ููุท

---

#### `lib/presentation/customer/screens/review/all_reviews_screen.dart`
**ุดุงุดุฉ ุนุฑุถ ุฌููุน ุงููุฑุงุฌุนุงุช:**
- **Filter (ููุชุฑุฉ):**
  - ุฌููุน ุงููุฑุงุฌุนุงุช
  - ุญุณุจ ุงููุฌูู (5โญ, 4โญ, 3โญ, 2โญ, 1โญ)
  
- **Sort (ุชุฑุชูุจ):**
  - ุงูุฃุญุฏุซ ุฃููุงู
  - ุงูุฃูุฏู ุฃููุงู
  - ุงูุฃุนูู ุชููููุงู
  - ุงูุฃูู ุชููููุงู

- **Footer:**
  - ูุชูุณุท ุงูุชูููู
  - ุฅุฌูุงูู ุนุฏุฏ ุงููุฑุงุฌุนุงุช

**ููููุฉ ุงููุตูู ุฅูููุง:**
- ูู ุตูุญุฉ ุชูุงุตูู ุงููุทุนู (`RestaurantDetailsScreen`)
- ุฒุฑ "View All" ูู ูุณู ุงููุฑุงุฌุนุงุช

---

### 6. **Integration with Existing Screens**

#### `lib/presentation/customer/screens/restaurant_details/restaurant_details_screen.dart`
**ุฅุถุงูุฉ ูุณู ุงููุฑุงุฌุนุงุช:**
- ุนุฑุถ ููุฎุต ุงูุชููููุงุช:
  - ูุชูุณุท ุงูุชูููู ูุจูุฑ
  - ุนุฏุฏ ุงููุฌูู
  - ุฅุฌูุงูู ุงููุฑุงุฌุนุงุช
  - ุชูุฒูุน ุงูุชููููุงุช (Bar Chart)

- ุนุฑุถ ุขุฎุฑ 3 ูุฑุงุฌุนุงุช
- ุฒุฑ "View All" ููุงูุชูุงู ูุตูุญุฉ ุฌููุน ุงููุฑุงุฌุนุงุช

---

#### `lib/presentation/customer/screens/order_details/order_details_screen.dart`
**ุฅุถุงูุฉ ุฒุฑ ุงูุชูููู:**
- ุฒุฑ "Rate Your Order" ูุธูุฑ ููุทูุจุงุช ุงูููุณููุฉ ููุท
- ุงูุงูุชูุงู ุฅูู ุดุงุดุฉ ุชูููู ุงูุทูุจ

---

### 7. **Mock API Service**

#### ุชุญุฏูุซุงุช ุนูู `lib/data/services/mock_api_service.dart`
ุฅุถุงูุฉ ุฏูุงู Mock ููู Ratings:
- `getRestaurantRatings()` - ุฌูุจ ุชููููุงุช ุงููุทุนู
- `getRatingById()` - ุฌูุจ ุชูููู ูุนูู
- `submitRating()` - ุฅุฑุณุงู ุชูููู ุฌุฏูุฏ
- `updateRating()` - ุชุญุฏูุซ ุชูููู
- `deleteRating()` - ุญุฐู ุชูููู
- `getUserRatings()` - ุฌูุจ ุชููููุงุช ุงููุณุชุฎุฏู
- `_initializeMockRatings()` - ุชููุฆุฉ ุจูุงูุงุช ุชุฌุฑูุจูุฉ
- `_updateRestaurantRating()` - ุชุญุฏูุซ ุชูููู ุงููุทุนู ุชููุงุฆูุงู

**ููุฒุฉ ุฎุงุตุฉ:**
- ุนูุฏ ุฅุถุงูุฉ/ุชุญุฏูุซ ุชููููุ ูุชู ุชุญุฏูุซ ุชูููู ุงููุทุนู (`restaurant.rating`) ุชููุงุฆูุงู
- ูุชู ุชุญุฏูุซ ุนุฏุฏ ุงููุฑุงุฌุนุงุช (`restaurant.reviewCount`) ุชููุงุฆูุงู

---

### 8. **Routes (ุงููุณุงุฑุงุช)**

#### ุชุญุฏูุซุงุช ุนูู `lib/core/routing/app_router.dart`
ุฅุถุงูุฉ ูุณุงุฑุงุช ุฌุฏูุฏุฉ:
- `/review-order/:id` - ุดุงุดุฉ ุชูููู ุงูุทูุจ
- `/restaurant/:id/reviews` - ุดุงุดุฉ ุฌููุน ุงููุฑุงุฌุนุงุช

---

### 9. **Localization (ุงูุชุฑุฌูุฉ)**

#### ุชุญุฏูุซุงุช ุนูู `lib/core/localization/app_localizations.dart`
ุฅุถุงูุฉ ูุตูุต ุงูุชุฑุฌูุฉ (ุนุฑุจู/ุฅูุฌููุฒู):
- `ratingsAndReviews` - ุงูุชููููุงุช ูุงููุฑุงุฌุนุงุช
- `rateYourOrder` - ููู ุทูุจู
- `writeAReview` - ุงูุชุจ ุชูููู
- `submitReview` - ุฅุฑุณุงู ุงูุชูููู
- `allReviews` - ุฌููุน ุงููุฑุงุฌุนุงุช
- `noReviewsYet` - ูุง ุชูุฌุฏ ูุฑุงุฌุนุงุช ุจุนุฏ
- `averageRating` - ูุชูุณุท ุงูุชูููู
- `totalReviews` - ุฅุฌูุงูู ุงููุฑุงุฌุนุงุช
- `filterByRating` - ููุชุฑุฉ ุญุณุจ ุงูุชูููู
- `sortReviews` - ุชุฑุชูุจ ุงููุฑุงุฌุนุงุช
- ูุงููุฒูุฏ...

---

### 10. **Restaurant Model Update**

#### ุชุญุฏูุซุงุช ุนูู `lib/data/models/restaurant_model.dart`
ุฅุถุงูุฉ `copyWith()` method:
- ูุณูุญ ุจุชุญุฏูุซ ูุนูููุงุช ุงููุทุนู (ุฎุงุตุฉ rating ู reviewCount)
- ูุณุชุฎุฏู ูู `_updateRestaurantRating()`

---

## ๐ Flow (ุณูุฑ ุงูุนูู)

### 1. **ุนูููุฉ ุงูุชูููู:**
```
ุงูุนููู ูุณุชูู ุงูุทูุจ (Delivered)
    โ
ูุฐูุจ ุฅูู Order Details Screen
    โ
ูุฑู ุฒุฑ "Rate Your Order"
    โ
ูููุฑ ุนูู ุงูุฒุฑ โ ููุชูู ุฅูู Review Order Screen
    โ
ูุฎุชุงุฑ ุงููุฌูู (1-5)
    โ
ููุชุจ ูุฑุงุฌุนุฉ (ุงุฎุชูุงุฑู)
    โ
ูุฑุณู ุงูุชูููู
    โ
ูุชู ุญูุธ ุงูุชูููู ูู Mock API
    โ
ูุชู ุชุญุฏูุซ ุชูููู ุงููุทุนู ุชููุงุฆูุงู
    โ
ูุชู ุชุญุฏูุซ ุนุฏุฏ ุงููุฑุงุฌุนุงุช
    โ
ูุชู ุฅุนุงุฏุฉ ุชุญููู ุจูุงูุงุช ุงููุทุนู
```

### 2. **ุนุฑุถ ุงููุฑุงุฌุนุงุช:**
```
ุงูุนููู ููุชุญ Restaurant Details Screen
    โ
ูุฑู ูุณู "Ratings & Reviews"
    โ
ูุฑู ููุฎุต ุงูุชููููุงุช (ูุชูุณุทุ ุนุฏุฏุ ุชูุฒูุน)
    โ
ูุฑู ุขุฎุฑ 3 ูุฑุงุฌุนุงุช
    โ
ููููู ุงูููุฑ ุนูู "View All"
    โ
ููุชูู ุฅูู All Reviews Screen
    โ
ููููู ุงูููุชุฑุฉ ุญุณุจ ุงููุฌูู
    โ
ููููู ุงูุชุฑุชูุจ (ุฃุญุฏุซุ ุฃูุฏูุ ุฃุนููุ ุฃูู)
```

---

## ๐ฏ ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ

### โ **ููุนูููุงุก:**
1. ุชูููู ุงููุทุงุนู ุจุนุฏ ุงุณุชูุงู ุงูุทูุจุงุช
2. ูุชุงุจุฉ ูุฑุงุฌุนุงุช ูุตูุฉ
3. ุนุฑุถ ุฌููุน ูุฑุงุฌุนุงุช ุงููุทุนู
4. ููุชุฑุฉ ูุชุฑุชูุจ ุงููุฑุงุฌุนุงุช
5. ุฑุคูุฉ ุชูุฒูุน ุงูุชููููุงุช (Bar Chart)
6. ูุชูุณุท ุงูุชูููู ูุนุฏุฏ ุงููุฑุงุฌุนุงุช

### โ **ูููุทุงุนู:**
1. ุชููููุงุช ุฏููุงููููุฉ (ุชุชุญุฏุซ ุชููุงุฆูุงู)
2. ูุชูุณุท ุชูููู ูุญุณูุจ ุชููุงุฆูุงู
3. ุนุฏุฏ ุงููุฑุงุฌุนุงุช ูุญุฏุซ ุชููุงุฆูุงู
4. ุนุฑุถ ุฌููุน ุงููุฑุงุฌุนุงุช ูู ุตูุญุฉ ูุงุญุฏุฉ

---

## ๐ ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ (Mock Data)

ุชู ุฅูุดุงุก ุชููููุงุช ุชุฌุฑูุจูุฉ ูู `_initializeMockRatings()`:
- ูุทุนู 1: 3 ุชููููุงุช (5.0, 4.5, 4.0)
- ูุทุนู 2: 2 ุชููููุงุช (5.0, 4.0)

---

## ๐ ุงูุฑูุงุจุท ุจูู ุงูุดุงุดุงุช

```
Order Details Screen
    โโโ "Rate Your Order" Button โ Review Order Screen

Restaurant Details Screen
    โโโ Reviews Section
    โ   โโโ Rating Summary
    โ   โโโ Last 3 Reviews
    โ   โโโ "View All" Button โ All Reviews Screen

All Reviews Screen
    โโโ Filter by Rating
    โโโ Sort Options
    โโโ All Reviews List
```

---

## ๐ ููุงุญุธุงุช ูููุฉ

1. **Auto-Update**: ุชูููู ุงููุทุนู ูุชู ุชุญุฏูุซู ุชููุงุฆูุงู ุนูุฏ ุฅุถุงูุฉ/ุชุนุฏูู ุชูููู
2. **Mock Data**: ุงูุจูุงูุงุช ุญุงููุงู Mockุ ุนูุฏ ุฑุจุท Backend ุญููููุ ููุท ุบููุฑ Repository
3. **Localization**: ุฌููุน ุงููุตูุต ูุชุฑุฌูุฉ (ุนุฑุจู/ุฅูุฌููุฒู)
4. **UI/UX**: ุชุตููู ุญุฏูุซ ูุณูุณ ูุน Animations
5. **Validation**: ุงูุชุญูู ูู ูุฌูุฏ ุชูููู ูุจู ุงูุฅุฑุณุงู

---

## ๐ ุงูุฎุทูุงุช ุงููุงุฏูุฉ (ุงุฎุชูุงุฑู)

1. ุฅุถุงูุฉ ุตูุฑ ูููุฑุงุฌุนุงุช (Image Upload)
2. ุฅุถุงูุฉ ุฑุฏ ุงููุทุนู ุนูู ุงููุฑุงุฌุนุงุช
3. ุฅุถุงูุฉ "Helpful" ูููุฑุงุฌุนุงุช (Like)
4. ุฅุถุงูุฉ ุฅุดุนุงุฑุงุช ุนูุฏ ุชููู ุชูููู ุฌุฏูุฏ
5. ุฅุญุตุงุฆูุงุช ุฃูุซุฑ ุชูุตููุงู ูููุทุงุนู

---

## ๐ฆ ุงูููุฎุต

ุชู ุฅูุดุงุก **ูุธุงู ูุงูู ููุชูุงูู** ููุชููููุงุช ูุงููุฑุงุฌุนุงุช ูุดูู:
- โ Models (ุงูููุงุฐุฌ)
- โ Repository (ุงููุณุชูุฏุน)
- โ Providers (ุฅุฏุงุฑุฉ ุงูุญุงูุฉ)
- โ UI Components (ููููุงุช ุงููุงุฌูุฉ)
- โ Screens (ุงูุดุงุดุงุช)
- โ Routes (ุงููุณุงุฑุงุช)
- โ Localization (ุงูุชุฑุฌูุฉ)
- โ Mock API (ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ)
- โ Auto-Update (ุงูุชุญุฏูุซ ุงูุชููุงุฆู)

ุงููุธุงู ุฌุงูุฒ ููุงุณุชุฎุฏุงู! ๐

